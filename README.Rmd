---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  warning = FALSE,
  message = FALSE,
  echo = FALSE,
  dpi = 300,
  dev = "svglite",
  fig.height = 1,
  fig.width = 2,
  # fig.show='hold',
  fig.align = "center"
)

library(tidyverse)
library(paletteer)
library(glue)
library(extrafont)
loadfonts()
```
```{r}
display_pal <- function(pkg, palette, n, pal_function) {
  
  n <- ifelse(is.na(n), 100, n)
  
  # pal_function <- match.fun(list(pal_function))
  # cat(pkg, palette, n, pal_function)
  par(mar = c(0, 0, 2, 0), family = "Exo")
  image(
    1:n,
    1,
    as.matrix(1:n),
    col = do.call(pal_function, list(package = pkg, palette = palette, n = n)),
    main = glue("{palette} {{{pkg}}}"),
    xlab = NA,
    ylab = "",
    xaxt = "n",
    yaxt = "n",
    bty = "n",
    cex.lab = 0.80,
    cex.main = 0.5
    )
}
```

```{r}
df <- list(palettes_d_names, palettes_c_names) %>% 
  set_names(c("paletteer_d", "paletteer_c")) %>% 
  bind_rows(.id = "pal_function") %>% 
  as_tibble() %>% 
  select(2:5, 1)
```

```{r, eval=FALSE}
pkg <- df %>% 
  distinct(package) %>% 
  pull()

pacman::p_install(package = pkg, character.only = TRUE, force = FALSE)
```

```{r}
df <- df %>% 
  filter(package %in% installed.packages())
```

# The *paletteer* gallery

> The goal of paletteer is to be a comprehensive collection of color palettes in R using a common interface. Think of it as the â€œcaret of palettes".

The are a total of `r nrow(df)` palettes (available from CRAN packages) divided into `discrete` and `continuous` scales. The titles of the following graphs present the `palette {package}`.

# Table of contents

- [Discrete palettes](#discrete-palettes)
    - [Diverging](#diverging)
    - [Qualitative](#qualitative)
    - [Sequencial](#sequencial)
- [Continuous palettes](#continuous-palettes)
    - [Diverging](#diverging-1)
    - [Sequencial](#sequencial-2)

## Discrete palettes

### Diverging

```{r}
df %>% 
  filter(str_ends(pal_function, "_d") & type == "diverging") %>%
  pwalk(~ display_pal(..1, ..2, ..3, ..5))
```

### Qualitative

```{r}
df %>% 
  filter(str_ends(pal_function, "_d") & type == "qualitative") %>%
  pwalk(~ display_pal(..1, ..2, ..3, ..5))
```

### Sequential

```{r}
df %>% 
  filter(str_ends(pal_function, "_d") & type == "sequential") %>%
  pwalk(~ display_pal(..1, ..2, ..3, ..5))
```

## Continuous palettes

## Diverging

```{r}
df %>% 
  filter(str_ends(pal_function, "_c") & type == "diverging") %>%
  pwalk(~ display_pal(..1, ..2, ..3, ..5))
```

## Sequential

```{r}
df %>% 
  filter(str_ends(pal_function, "_c") & type == "sequential") %>%
  pwalk(~ display_pal(..1, ..2, ..3, ..5))
```
